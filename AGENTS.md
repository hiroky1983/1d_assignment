# AI Agents Guidelines

## 役割

- **Antigravity (Coding Assistant)**
  - 実装、リファクタリング、テスト記述を担当
  - 常にプロジェクトの設計思想（BFF パターン、Server/Client 分離）を遵守する
  - 変更前に必ず関連ファイルを確認し、影響範囲を考慮する

## 禁止事項

- `app/` 配下で無秩序に `use client` を付けない（可能な限り Server Component を維持）
- グローバルな状態管理（Context, Redux 等）を安易に導入しない
- 既存の型定義を無視して `any` を使わない

## レビュー観点

- **アーキテクチャ**: ディレクトリ構造は正しいか？責務は分離されているか？
- **パフォーマンス**: 無駄な再レンダリングや過剰なデータ取得はないか？
- **セキュリティ**: API キーやセンシティブな情報がクライアントに漏れていないか？
- **アクセシビリティ**: 適切な aria 属性やキーボード操作が考慮されているか？

## コミュニケーション

- 曖昧な要件は実装前に確認する
- 変更理由を明確にコミットメッセージやプルリクエストに記載する

## コーディング規約 (Coding Standards)

- **JSDoc**: 関数やコンポーネントには必ず JSDoc を付与する (役割、引数、戻り値など)
- **関数定義**: `page.tsx`, `layout.tsx` 等の Next.js の仕様で必要な場合を除き、`function` キーワードは使わず `const` で定義する (アロー関数)
- **エクスポート**: `page.tsx`, `layout.tsx` 等の Next.js の仕様で必要な場合を除き、`export default` は使わず Named Export を使用する
